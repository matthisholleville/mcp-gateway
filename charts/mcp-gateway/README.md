# mcp-gateway

Simple Helm chart to deploy MCP Gateway on Kubernetes.

![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square)

Simple Helm chart to deploy MCP Gateway on Kubernetes.

## Quick Installation

```bash
# Create namespace
kubectl create namespace mcp-gateway

# Create secrets for authentication
kubectl create secret generic okta-secret \
  --from-literal=issuer="https://your-okta-domain.okta.com/oauth2/default" \
  --from-literal=org_url="https://your-okta-domain.okta.com" \
  --from-literal=client_id="your-client-id" \
  --from-literal=private_key="your-private-key" \
  --from-literal=private_key_id="your-key-id" \
  -n mcp-gateway

# Create secret for MCP server (example: n8n)
kubectl create secret generic n8n-secret \
  --from-literal=proxy_key="your-n8n-api-key" \
  -n mcp-gateway

# Install chart
helm install mcp-gateway . --namespace mcp-gateway

# Verify deployment
kubectl get pods -n mcp-gateway
```

## Configuration

Check `values.yaml` for all available configuration options. Customize environment variables and secrets according to your setup.

## Uninstall

```bash
helm uninstall mcp-gateway -n mcp-gateway
kubectl delete namespace mcp-gateway
```

## Requirements

| Repository | Name | Version |
|------------|------|---------|
| https://charts.bitnami.com/bitnami | postgresql | 15.5.38 |

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| affinity | object | `{}` |  |
| autoscaling.enabled | bool | `false` |  |
| autoscaling.maxReplicas | int | `100` |  |
| autoscaling.minReplicas | int | `1` |  |
| autoscaling.targetCPUUtilizationPercentage | int | `80` |  |
| configuration | string | `"# MCP Gateway configuration\n"` |  |
| containerPort | int | `8082` |  |
| extraEnv[0].name | string | `"MCP_GATEWAY_BACKEND_ENGINE"` |  |
| extraEnv[0].value | string | `"postgres"` |  |
| extraEnv[1].name | string | `"MCP_GATEWAY_BACKEND_URI"` |  |
| extraEnv[1].value | string | `"postgresql://postgres:will-change@mcp-gateway-postgresql:5432/mcp-gateway?sslmode=disable"` |  |
| extraEnv[2].name | string | `"MCP_GATEWAY_BACKEND_PASSWORD"` |  |
| extraEnv[2].valueFrom.secretKeyRef.key | string | `"postgresql-password"` |  |
| extraEnv[2].valueFrom.secretKeyRef.name | string | `"mcp-gateway-postgresql-secret"` |  |
| extraEnv[3].name | string | `"MCP_GATEWAY_BACKEND_ENCRYPTION_KEY"` |  |
| extraEnv[3].value | string | `"0123456789abcdeffedcba9876543210cafebabefacefeeddeadbeef00112233"` |  |
| extraEnv[4].name | string | `"MCP_GATEWAY_HTTP_ADMIN_API_KEY"` |  |
| extraEnv[4].value | string | `"admin"` |  |
| fullnameOverride | string | `""` |  |
| image.pullPolicy | string | `"IfNotPresent"` |  |
| image.repository | string | `"ghcr.io/matthisholleville/mcp-gateway-dev"` |  |
| image.tag | string | `"dev-f810708eb3c412858fef136fb8668078457adf92"` |  |
| imagePullSecrets | list | `[]` |  |
| ingress.annotations | object | `{}` |  |
| ingress.className | string | `""` |  |
| ingress.enabled | bool | `false` |  |
| ingress.hosts[0].host | string | `"chart-example.local"` |  |
| ingress.hosts[0].paths[0].path | string | `"/"` |  |
| ingress.hosts[0].paths[0].pathType | string | `"ImplementationSpecific"` |  |
| ingress.tls | list | `[]` |  |
| migrate.enabled | bool | `true` |  |
| nameOverride | string | `""` |  |
| nodeSelector | object | `{}` |  |
| podAnnotations."prometheus.io/port" | string | `"8082"` |  |
| podAnnotations."prometheus.io/scrape" | string | `"true"` |  |
| podSecurityContext | object | `{}` |  |
| postgresql.auth.database | string | `"mcp-gateway"` |  |
| postgresql.auth.existingSecret | string | `"mcp-gateway-postgresql-secret"` |  |
| postgresql.auth.secretKeys.adminPasswordKey | string | `"postgresql-password"` |  |
| postgresql.auth.username | string | `"postgres"` |  |
| postgresql.enabled | bool | `true` |  |
| replicaCount | int | `1` |  |
| resources.limits.memory | string | `"1Gi"` |  |
| resources.requests.cpu | string | `"100m"` |  |
| resources.requests.memory | string | `"512Mi"` |  |
| securityContext | object | `{}` |  |
| service.port | int | `80` |  |
| service.type | string | `"ClusterIP"` |  |
| serviceAccount.annotations | object | `{}` |  |
| serviceAccount.create | bool | `true` |  |
| serviceAccount.name | string | `""` |  |
| tolerations | list | `[]` |  |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.13.1](https://github.com/norwoodj/helm-docs/releases/v1.13.1)